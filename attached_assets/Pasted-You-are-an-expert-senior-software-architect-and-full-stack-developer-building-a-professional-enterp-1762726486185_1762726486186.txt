You are an expert senior software architect and full-stack developer building a professional, enterprise-grade Garage Layout Planner web application. This will be sold on Envato as a premium product, so code quality, architecture, and scalability are paramount.

## PROJECT OVERVIEW

Build a browser-based garage/storage layout planner where users can:
- Select floor plans from templates or draw custom shapes
- Add vehicles, RVs, boats, storage items to the layout
- Drag, rotate, resize, and arrange items
- Save, load, export layouts (JSON, PNG, PDF)
- Use professional tools (magnifier, measurements, dimensions)
- Share and collaborate on layouts

## CRITICAL REQUIREMENTS

### Technology Stack (MANDATORY)
- **Pure HTML5, CSS3, JavaScript ES6** (no build tools, no Node.js, no frameworks)
- **Fabric.js 5.3.0** (canvas rendering) - load from CDN
- **Turf.js 6.x** (geometry operations) - load from CDN
- **jsPDF** (PDF generation) - load from CDN
- **html2canvas** (canvas screenshots) - load from CDN
- Must work by opening index.html directly in browser
- Must work on any static web server (no backend required)
- No TypeScript, no React, no Vue, no Angular, no build step

### Architecture Requirements (CRITICAL - THIS IS THE FOUNDATION)

**1. STATE MANAGEMENT**
- Create centralized State class (pure JS)
- Single source of truth for all application data
- No global variables except the app instance
- State structure:
  ```javascript
  {
    floorPlan: null,
    items: [],
    selection: null,
    history: [], // For undo/redo
    settings: {},
    ui: {}
  }
  ```
- Implement observer pattern (subscribe/notify)
- All state changes go through setState() method
- State is serializable (can convert to/from JSON)

**2. EVENT BUS**
- Create EventBus class (pure JS)
- Decouples features from each other
- Events to implement:
  - item:added, item:removed, item:selected, item:moved
  - floorplan:changed, floorplan:custom:start, floorplan:custom:complete
  - export:json, export:png, export:pdf
  - tool:magnifier:toggle, tool:measure:start
  - state:changed
- Use .on(), .off(), .emit() methods

**3. MODULE PATTERN**
- Use IIFE or ES6 modules (user's choice)
- Each file is self-contained
- No pollution of global namespace
- Clear public API for each module

**4. MANAGER CLASSES**
Create separate manager classes:
- **CanvasManager**: Fabric.js initialization, zoom, pan, rendering
- **FloorPlanManager**: Floor plan CRUD, validation, custom drawing
- **ItemManager**: Item library, add/remove/update items
- **SelectionManager**: Selection, multi-select, grouping
- **ExportManager**: JSON, PNG, PDF exports
- **HistoryManager**: Undo/redo stack

**5. FILE STRUCTURE** (Create exactly this structure)
```
project/
├── index.html
├── README.md
├── LICENSE.txt
├── css/
│   ├── reset.css
│   ├── variables.css
│   ├── layout.css
│   ├── components/
│   │   ├── toolbar.css
│   │   ├── sidebar.css
│   │   ├── modal.css
│   │   ├── canvas.css
│   │   └── info-panel.css
│   └── main.css (imports all)
│
├── js/
│   ├── core/
│   │   ├── State.js (state management)
│   │   ├── EventBus.js (event system)
│   │   ├── Config.js (configuration)
│   │   └── App.js (main controller)
│   │
│   ├── managers/
│   │   ├── CanvasManager.js
│   │   ├── FloorPlanManager.js
│   │   ├── ItemManager.js
│   │   ├── SelectionManager.js
│   │   ├── ExportManager.js
│   │   └── HistoryManager.js
│   │
│   ├── features/
│   │   ├── magnifier/
│   │   │   └── Magnifier.js
│   │   ├── floor-plan-drawer/
│   │   │   └── FloorPlanDrawer.js
│   │   ├── pdf-exporter/
│   │   │   └── PDFExporter.js
│   │   ├── measurement/
│   │   │   └── MeasurementTool.js
│   │   └── templates/
│   │       └── TemplateManager.js
│   │
│   ├── ui/
│   │   ├── Toolbar.js
│   │   ├── Sidebar.js
│   │   ├── InfoPanel.js
│   │   ├── Modal.js
│   │   └── ItemPalette.js
│   │
│   ├── utils/
│   │   ├── bounds.js (boundary checks)
│   │   ├── geometry.js (calculations)
│   │   ├── validation.js (input validation)
│   │   ├── storage.js (localStorage wrapper)
│   │   └── helpers.js (utility functions)
│   │
│   ├── data/
│   │   ├── floorPlans.js (floor plan definitions)
│   │   ├── items.js (item library)
│   │   ├── templates.js (layout templates)
│   │   └── icons.js (SVG icons)
│   │
│   └── main.js (entry point)
│
├── assets/
│   ├── icons/ (SVG icons - no emojis)
│   ├── images/ (optional item images)
│   └── templates/ (template thumbnails)
│
└── docs/
    ├── API.md
    ├── ARCHITECTURE.md
    └── FEATURES.md
```

## SCALING & DIMENSIONS

**Fundamental Rule:**
- 1 foot = 10 pixels (PX_PER_FOOT = 10)
- All measurements in feet
- Convert to pixels only when drawing
- Items must be VERTICAL by default (lengthFt = height, widthFt = width)

**Floor Plans:**
- 20x25, 20x30, 20x40, 24x30, 24x40, 24x48, 24x50 (feet)
- L-shaped, T-shaped, custom shapes
- Canvas auto-scales if floor plan too large for viewport

**Items (Realistic Sizes in Feet):**
```javascript
{
  vehicles: [
    { id: 'sports-car', lengthFt: 15, widthFt: 6 },
    { id: 'sedan', lengthFt: 16, widthFt: 6 },
    { id: 'pickup', lengthFt: 19, widthFt: 6.5 },
    { id: 'suv', lengthFt: 17, widthFt: 6.5 },
    { id: 'motorcycle', lengthFt: 7, widthFt: 3 }
  ],
  recreational: [
    { id: 'boat-trailer', lengthFt: 20, widthFt: 7 },
    { id: 'rv-26', lengthFt: 26, widthFt: 8 },
    { id: 'rv-34', lengthFt: 34, widthFt: 8.5 }
  ],
  storage: [
    { id: 'shelf', lengthFt: 4, widthFt: 2 },
    { id: 'workbench', lengthFt: 6, widthFt: 2.5 },
    { id: 'storage-box', lengthFt: 3, widthFt: 3 }
  ]
}
```

## PHASE 1 FEATURES (Build These First)

### Core Functionality
1. Floor plan selection (7 pre-defined sizes)
2. Item palette with categories (vehicles, recreational, storage)
3. Drag and drop items onto canvas
4. Move items with mouse
5. Boundary detection (items stay inside floor plan)
6. Entry zone (bottom 20% of floor plan, warn if blocked)
7. Real-time info panel (floor plan, selected item, position, size)

### Selection & Manipulation
8. Select items (click)
9. Multi-select (Shift+click, or drag selection box)
10. Group/ungroup items
11. Rotate items (90° button + any angle with Shift+drag)
12. Duplicate items (button + Ctrl+D)
13. Delete items (button + Delete key)
14. Copy/paste (Ctrl+C, Ctrl+V)
15. Bring to front / Send to back (z-order)
16. Lock/unlock items (prevent movement)

### Keyboard Shortcuts
17. Arrow keys to nudge (2px, Shift = 10px)
18. Delete/Backspace to remove
19. R to rotate 90°
20. Ctrl+D to duplicate
21. Ctrl+C/V to copy/paste
22. Ctrl+Z/Y for undo/redo
23. Ctrl+A select all
24. Esc to deselect

### Alignment Tools
25. Align left, right, center, top, bottom, middle
26. Distribute evenly (horizontal, vertical)
27. Snap to grid (toggle on/off, 1-foot increments)
28. Snap to other items (show alignment guides)

### Dimensions & Measurements
29. Show item dimensions on hover
30. Display dimension lines on selected items
31. Distance measurement tool (click two points)
32. Ruler overlay (optional toggle)
33. Unit toggle (feet/meters)
34. Area calculation (total floor space vs occupied)

### Labels & Annotations
35. Toggle all labels on/off
36. Rename individual items (double-click)
37. Text labels always stay upright (never rotate with item)
38. Custom text annotations (add notes anywhere)
39. Font size control

### Save/Load/Export
40. Save layout with custom name (localStorage)
41. Auto-save every 30 seconds
42. Load saved layouts (list with thumbnails)
43. Delete saved layouts
44. Export as JSON (download)
45. Export as PNG (1x, 2x, 4x resolution)
46. Export as PDF (with branding, measurements, item list)
47. Print layout (optimized for printing)

### Visual Tools
48. Magnifying glass (2.5x zoom, adjustable)
49. Toggle grid background
50. Canvas zoom (mouse wheel, pinch)
51. Canvas pan (drag background)
52. Full-screen mode

### Undo/Redo System (CRITICAL)
53. History stack (50 levels)
54. Undo (Ctrl+Z)
55. Redo (Ctrl+Y)
56. Clear history
57. Visual indicators for undo/redo availability

### UI/UX Features
58. Empty state message ("Select a floor plan to start")
59. Loading states for operations
60. Confirm dialogs for destructive actions
61. Tooltips on hover
62. Keyboard shortcut cheat sheet (modal)
63. Responsive design (works on tablets)
64. Touch support (pinch zoom, drag)

## ADVANCED FLOOR PLANS (Phase 2)

### Custom Floor Plan Creator
- Draw mode (click to place corners)
- Preview lines while drawing
- Double-click or click first point to close
- Validate polygon (Turf.js):
  - No self-intersections
  - Minimum 100 sq ft
  - Closed shape
  - Proper winding order
- Dimension input modal after drawing
- Save custom floor plans to library

### L-Shaped & T-Shaped Floor Plans
- 4 L-shape orientations
- 4 T-shape orientations
- Visual builder with dimension inputs for each section
- Pre-made templates (10 variations each)

### Multiple Rooms/Zones
- Add zones inside floor plan
- Zone boundaries (dotted lines)
- Zone labels (Parking, Storage, Workshop)
- Different colored overlays
- Zone-specific item restrictions (optional)
- Zone area calculations

### Doors, Windows, Obstacles
**Doors:**
- Standard sizes (3', 6', 8', 10')
- Swing direction indicator
- Snap to walls
- Visual swing arc

**Windows:**
- Standard sizes (3', 4', 6')
- Snap to walls
- Different visual style than doors

**Obstacles:**
- Columns (circular/square)
- Pillars (rectangular)
- HVAC units
- Draggable anywhere
- Items can't overlap obstacles

### Non-Rectangular Shapes
- Angled walls (any angle)
- Polygon clipping for boundaries
- Complex boundary detection
- Use Turf.js for geometry operations

### Import Floor Plan Image
- Upload image/PDF as background
- Set scale (click two points, enter known distance)
- Opacity slider (0-100%)
- Lock background option
- Trace over image with drawing tools

### Floor Plan Templates
- 30+ pre-made templates
- Categories: Residential, Commercial, RV Storage, Boat Storage
- Preview thumbnails
- Search/filter
- "Use This Template" button
- Template metadata (name, description, size, category)

### Floor Plan Editor
- Edit dimensions of existing floor plans
- Drag handles on corners
- Numeric input fields
- Lock aspect ratio toggle
- Proportional item scaling option
- Warning if items won't fit

## ITEM MANAGEMENT

### Item Library
- 100+ items (start with 20, expand over time)
- Categories with visual separators
- Search/filter items
- Sort by: name, size, recently used
- Favorite items (star icon)
- Recent items (quick access)

### Custom Items
- "Create Custom Item" button
- Form with: name, length, width, color
- Optional image upload
- Save to personal library
- Edit/delete custom items

### Item Properties
- Properties panel (when item selected)
- Edit: name, dimensions, color, notes
- Real-time preview
- Reset to defaults button

### Item Images
- Support for image textures on items
- Transparent PNG recommended
- Maintain aspect ratio
- Image library (upload your photos)

## EXPORT FEATURES

### PDF Export (Professional)
**Header:**
- Company logo upload
- Project name
- Client name
- Date
- Custom header text

**Content:**
- Layout image (high resolution)
- Scale indicator
- North arrow (optional)
- Dimension annotations

**Footer:**
- Floor plan specifications (dimensions, area)
- Item list table (name, quantity, dimensions)
- Notes section
- Custom footer text

**Page Layout:**
- Portrait/Landscape
- Paper size: A4, Letter, Legal, Tabloid
- Margins: 0.5" default
- Multi-page support (overview + details)

**Branding:**
- Customizable colors
- Custom fonts
- White-label option (remove watermark)

### Image Export
- PNG format
- Resolution options: 1x, 2x, 4x, 8x
- Transparent background option
- Include/exclude UI elements
- Include/exclude grid
- Custom dimensions

### JSON Export
- Complete layout data
- Floor plan definition
- All items with positions/rotations
- Metadata (created date, modified date, version)
- Human-readable format (indented)

## TEMPLATES SYSTEM

### Layout Templates
- 20+ pre-designed layouts
- Industry-specific:
  - Car collector garage (6-car)
  - RV storage (2-3 RVs)
  - Workshop garage (tools + 2 cars)
  - Boat storage (boats + equipment)
  - Commercial storage (maximized efficiency)

**Template Structure:**
```javascript
{
  id: 'template-001',
  name: '2-Car Garage with Workshop',
  category: 'residential',
  floorPlan: { widthFt: 24, heightFt: 30 },
  items: [
    { itemId: 'sedan', x: 50, y: 50, angle: 0 },
    { itemId: 'pickup', x: 100, y: 50, angle: 0 },
    { itemId: 'workbench', x: 200, y: 50, angle: 0 }
  ],
  thumbnail: 'url',
  description: 'Perfect for...',
  tags: ['residential', 'workshop', '2-car']
}
```

### User Templates
- "Save as Template" button
- Template manager (list, edit, delete)
- Share templates (export/import JSON)
- Template marketplace (future)

## COLLABORATION & SHARING

### Share via URL
- Generate unique shareable link
- View-only mode
- Optional password protection
- Expiration date (optional)
- Track views (optional)

### QR Code
- Generate QR code for layout
- Downloads as PNG
- Links to shareable URL
- Print on proposals

## ENTERPRISE FEATURES

### Branding & White-Label
- Upload logo (shows in header/exports)
- Custom color scheme (CSS variables)
- Company name/contact info
- Custom domain support (DNS config)
- Remove "Powered by" footer

### Client Management
- Client database (name, email, phone, projects)
- Project organization (multiple layouts per client)
- Project status (draft, sent, approved, completed)
- Client notes/comments
- Project history/timeline

### Proposal Generation
- Generate PDF proposal from layout
- Include: layout image, item list, pricing, terms
- Editable proposal template
- Send via email
- Track opens/views (future)
- Digital signature field (future)

### Cost Estimation
- Price per square foot input
- Item costs (optional per item)
- Material list generator
- Labor cost calculator
- Total project cost
- Budget vs actual comparison
- Profit margin calculator

### Analytics (Future)
- Usage tracking
- Most used items
- Most used floor plans
- Average project size
- Time spent per project
- Conversion rate (leads to sales)

## TECHNICAL IMPLEMENTATION DETAILS

### Canvas Rendering (Fabric.js)
- Use Fabric.Rect for items (not Groups - they have issues)
- Store custom data in object.customData property
- Text labels as separate Fabric.Text objects
- Update text position on object:moving, object:rotating events
- Text angle always = 0 (stays upright)
- Selection styling: blue border, circular corners

### Geometry Operations (Turf.js)
**Use Turf for:**
- Polygon validation: `turf.kinks(polygon)` checks self-intersection
- Area calculation: `turf.area(polygon)` returns sq meters
- Point-in-polygon: `turf.booleanPointInPolygon(point, polygon)`
- Distance: `turf.distance(point1, point2)`
- Union/intersection: `turf.union()`, `turf.intersect()`
- Simplify: `turf.simplify()` for complex shapes

**Polygon Format (GeoJSON):**
```javascript
const polygon = {
  type: 'Polygon',
  coordinates: [[
    [x1, y1], [x2, y2], [x3, y3], [x1, y1] // closed loop
  ]]
};
```

### Boundary Detection
```javascript
function constrainToBounds(item, floorPlan) {
  const itemWidth = item.width * item.scaleX;
  const itemHeight = item.height * item.scaleY;
  const maxX = floorPlan.widthFt * PX_PER_FOOT;
  const maxY = floorPlan.heightFt * PX_PER_FOOT;
  
  if (item.left < 0) item.left = 0;
  if (item.top < 0) item.top = 0;
  if (item.left + itemWidth > maxX) item.left = maxX - itemWidth;
  if (item.top + itemHeight > maxY) item.top = maxY - itemHeight;
  
  item.setCoords();
}
```

### Snap to Grid
```javascript
function snapToGrid(item, gridSize = 10) {
  item.left = Math.round(item.left / gridSize) * gridSize;
  item.top = Math.round(item.top / gridSize) * gridSize;
  item.setCoords();
}
```

### History Management (Undo/Redo)
```javascript
class HistoryManager {
  constructor(maxStates = 50) {
    this.states = [];
    this.currentIndex = -1;
    this.maxStates = maxStates;
  }
  
  save(state) {
    // Remove any states after current index
    this.states = this.states.slice(0, this.currentIndex + 1);
    
    // Add new state
    this.states.push(JSON.parse(JSON.stringify(state)));
    this.currentIndex++;
    
    // Limit stack size
    if (this.states.length > this.maxStates) {
      this.states.shift();
      this.currentIndex--;
    }
  }
  
  undo() {
    if (this.currentIndex > 0) {
      this.currentIndex--;
      return this.states[this.currentIndex];
    }
    return null;
  }
  
  redo() {
    if (this.currentIndex < this.states.length - 1) {
      this.currentIndex++;
      return this.states[this.currentIndex];
    }
    return null;
  }
}
```

### PDF Generation (jsPDF + html2canvas)
```javascript
async function exportPDF(canvas, metadata) {
  // Capture canvas as image
  const dataUrl = canvas.toDataURL('image/png', 1.0);
  
  // Create PDF
  const pdf = new jsPDF({
    orientation: 'landscape',
    unit: 'in',
    format: 'letter'
  });
  
  // Add header
  pdf.setFontSize(20);
  pdf.text(metadata.projectName, 0.5, 0.5);
  
  // Add canvas image
  pdf.addImage(dataUrl, 'PNG', 0.5, 1, 10, 7);
  
  // Add footer with item list
  let y = 8.5;
  pdf.setFontSize(12);
  pdf.text('Item List:', 0.5, y);
  metadata.items.forEach(item => {
    y += 0.3;
    pdf.setFontSize(10);
    pdf.text(`${item.label} - ${item.lengthFt}' x ${item.widthFt}'`, 0.5, y);
  });
  
  // Save
  pdf.save('garage-layout.pdf');
}
```

### localStorage Wrapper
```javascript
const Storage = {
  save(key, data) {
    try {
      localStorage.setItem(key, JSON.stringify(data));
      return true;
    } catch (e) {
      console.error('Storage full:', e);
      return false;
    }
  },
  
  load(key) {
    try {
      const data = localStorage.getItem(key);
      return data ? JSON.parse(data) : null;
    } catch (e) {
      console.error('Parse error:', e);
      return null;
    }
  },
  
  remove(key) {
    localStorage.removeItem(key);
  }
};
```

## CODE QUALITY STANDARDS

### Naming Conventions
- Classes: PascalCase (CanvasManager, FloorPlanDrawer)
- Functions: camelCase (addItemToCanvas, validatePolygon)
- Constants: UPPER_SNAKE_CASE (PX_PER_FOOT, MAX_ITEMS)
- Private methods: _prefixWithUnderscore
- Event names: namespace:action (item:added, floorplan:changed)

### Comments
- JSDoc comments for all public methods
- Explain "why" not "what"
- Complex algorithms need explanation
- TODO/FIXME for known issues

### Error Handling
- Try/catch for all external operations
- User-friendly error messages
- Log errors to console
- Never expose technical errors to users
- Graceful degradation

### Performance
- Debounce mouse move events (16ms)
- Throttle canvas re-renders
- Use requestAnimationFrame for animations
- Lazy load templates (load on demand)
- Cache calculated values
- Minimize DOM manipulation

### Browser Support
- Modern browsers (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)
- No IE11 support required
- Use ES6 features freely
- Test on mobile Safari (iOS 14+)

## TESTING CHECKLIST

Before considering a feature complete, test:
1. ✓ Works in Chrome, Firefox, Safari, Edge
2. ✓ Works on Windows and Mac
3. ✓ Works on tablet (iPad)
4. ✓ All keyboard shortcuts work
5. ✓ Undo/redo works correctly
6. ✓ Save/load preserves all data
7. ✓ Export PNG/PDF works
8. ✓ Performance good with 50+ items
9. ✓ No console errors
10. ✓ Responsive design works

## DOCUMENTATION REQUIREMENTS

### README.md
- Project description
- Features list
- Browser requirements
- Installation (just open index.html)
- Usage guide
- Keyboard shortcuts
- License

### ARCHITECTURE.md
- System overview diagram
- File structure explanation
- Module dependencies
- Design patterns used
- Extension points

### API.md
- Public API documentation
- Manager methods
- Event list
- Configuration options
- Examples

## DELIVERABLES CHECKLIST

Phase 1 Complete When:
- [ ] All 63 Phase 1 features work
- [ ] Undo/redo system implemented
- [ ] PDF export with branding works
- [ ] Multi-select and alignment tools work
- [ ] Keyboard shortcuts all functional
- [ ] 10+ layout templates included
- [ ] Code is modular and scalable
- [ ] No global variables (except app instance)
- [ ] State management implemented
- [ ] Event bus implemented
- [ ] All managers created
- [ ] Documentation written
- [ ] Tested in all browsers
- [ ] No critical bugs

Phase 2 Complete When:
- [ ] Custom floor plan drawer works
- [ ] Turf.js validation integrated
- [ ] L-shaped and T-shaped floor plans
- [ ] Multiple rooms/zones
- [ ] Doors/windows/obstacles
- [ ] Import floor plan image
- [ ] 30+ floor plan templates
- [ ] Floor plan editor
- [ ] All features tested

## IMPORTANT REMINDERS

1. **NO EMOJIS** - Use SVG icons only
2. **Items VERTICAL by default** - lengthFt = height (vertical), widthFt = width (horizontal)
3. **Text NEVER rotates** - Labels always upright (angle = 0)
4. **No global variables** - Everything encapsulated
5. **State management** - All data changes go through State class
6. **Event-driven** - Features communicate via EventBus
7. **Turf.js for geometry** - Don't reinvent polygon math
8. **Pure HTML/CSS/JS** - No build tools, works everywhere
9. **Professional code** - Clean, commented, maintainable
10. **Enterprise-grade** - Scalable to 100+ features

## SUCCESS CRITERIA

This project is successful when:
✓ Opens index.html → works immediately (no server, no setup)
✓ Upload to any web server → works
✓ Add new features → doesn't break existing code
✓ Code is readable by junior developers
✓ Can scale to 100+ features without refactoring
✓ Performance: 60 FPS with 50 items on canvas
✓ File size: < 2MB total (including libraries)
✓ Sells on Envato for $49-$99

## START HERE

Begin by creating the file structure exactly as specified, then:

1. **Week 1:** Core architecture (State, EventBus, App, Managers)
2. **Week 2-3:** Canvas & Floor Plans (rendering, selection, manipulation)
3. **Week 4-5:** Items & Interactions (library, drag/drop, rotate, align)
4. **Week 6:** Save/Load/Export (JSON, PNG, PDF)
5. **Week 7:** Advanced tools (magnifier, measurements, undo/redo)
6. **Week 8:** Templates & Polish (10+ templates, bug fixes, optimization)
7. **Week 9-10:** Custom floor plan drawer (Turf.js integration)
8. **Week 11-12:** Advanced floor plans (L/T shapes, zones, doors/windows)

Build incrementally. Test after each feature. Commit to version control frequently.

Remember: FOUNDATION FIRST. Get the architecture right in Week 1, and everything else will be easier.

Now, let's build this masterpiece. Start with creating the file structure and the core classes (State.js, EventBus.js, App.js). Show me the code for those three files first.
```

AND

## UI/UX DESIGN SPECIFICATION
## GARAGE LAYOUT PLANNER - PROFESSIONAL ENTERPRISE INTERFACE

This is a premium Envato product competing with high-end SaaS tools. The UI must be:
- Modern, clean, and professional (2024/2025 design standards)
- Intuitive (users understand it immediately without tutorial)
- Beautiful (worth $99-$199)
- Responsive (works perfectly on desktop, tablet, mobile)
- Accessible (WCAG 2.1 AA compliant)

## DESIGN PHILOSOPHY

**Primary Inspiration:** Figma, Canva, Miro, Linear, Notion
- Clean workspace-focused design
- Floating panels with subtle shadows
- Minimal but powerful
- Professional without being corporate
- Delightful microinteractions
- Fast and responsive (no lag)

**NOT Like:** Old-school desktop apps, cluttered admin panels, outdated jQuery plugins

**Key Principles:**
1. **Content First** - Canvas is the hero, UI supports it
2. **Progressive Disclosure** - Hide complexity until needed
3. **Spatial Memory** - Tools stay where users expect them
4. **Visual Feedback** - Every action has immediate response
5. **Forgiving** - Easy to undo, hard to break

## LAYOUT ARCHITECTURE

### Desktop Layout (1920x1080 optimal, works 1366x768+)

```
┌─────────────────────────────────────────────────────────────┐
│  TOP BAR (60px fixed height, dark background)               │
│  [Logo] [Floor Plans] [Palette] [Tools▾] [Export▾] [?] ⚙   │
└─────────────────────────────────────────────────────────────┘
┌──────────┬─────────────────────────────────────┬────────────┐
│          │                                     │            │
│  LEFT    │                                     │  RIGHT     │
│  PANEL   │        CANVAS WORKSPACE             │  PANEL     │
│  320px   │        (Flexible, centered)         │  280px     │
│          │                                     │            │
│ Collap-  │                                     │  Optional  │
│ sible    │                                     │  Floating  │
│          │                                     │            │
│          │                                     │            │
│          │                                     │            │
└──────────┴─────────────────────────────────────┴────────────┘
│  BOTTOM TOOLBAR (50px, auto-hide, shows on item select)     │
│  [Rotate] [Duplicate] [Align▾] [Delete] [...more]           │
└─────────────────────────────────────────────────────────────┘
```

**Layout Zones:**

1. **Top Navigation Bar** (60px height, fixed)
   - Primary actions: Floor Plans, Palette, Tools dropdown, Export dropdown
   - Right side: Help (?), Settings (⚙), User account (if applicable)
   - Logo/branding on left (max 200px width)
   - Background: Dark (rgb(30, 41, 59) or similar)
   - Text: White
   - Buttons: Subtle hover states

2. **Left Sidebar** (320px width, collapsible)
   - Floor plan library (when floor plans active)
   - Item palette (when palette active)
   - Tool settings (when tool active)
   - Slide in/out animation (300ms ease)
   - Can be collapsed to 60px icon bar
   - White background, subtle right border

3. **Canvas Workspace** (Flexible, takes remaining space)
   - Centered canvas with shadow
   - Light gray background (#f1f5f9)
   - Canvas has white background with subtle shadow
   - Floating zoom controls (bottom-right corner)
   - Floating info panel (top-right corner, semi-transparent)

4. **Right Sidebar** (280px width, optional/floating)
   - Properties panel (when item selected)
   - Layer panel (future)
   - Comments panel (future)
   - Floats over canvas on smaller screens
   - Can be hidden completely

5. **Bottom Toolbar** (50px height, contextual)
   - Only appears when item(s) selected
   - Slides up from bottom (200ms ease)
   - Contains most-used actions
   - Semi-transparent background with blur effect
   - Centered, max-width 900px

### Tablet Layout (768px - 1024px)

```
┌─────────────────────────────────────────────────┐
│  COMPACT TOP BAR (55px)                         │
│  [☰] [Logo] [Canvas Tools] [•••]                │
└─────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────┐
│                                                 │
│           FULL-WIDTH CANVAS                     │
│                                                 │
│                                                 │
│  [Floating Info Panel - Top Right]             │
│                                                 │
│                                                 │
└─────────────────────────────────────────────────┘
│  CONTEXT TOOLBAR (item selected)                │
│  [Rotate] [Duplicate] [Delete] [More▾]          │
└─────────────────────────────────────────────────┘

[DRAWER - Slides from left when ☰ clicked]
┌────────────────┐
│ Floor Plans    │
│ Item Palette   │
│ Saved Layouts  │
│ Settings       │
└────────────────┘
```

**Tablet Adaptations:**
- Left/right panels become bottom drawer or slide-over
- Top bar more compact (combine actions into dropdowns)
- Touch-friendly button sizes (min 44x44px)
- Canvas uses more screen space
- Floating panels have close button (X)

### Mobile Layout (320px - 767px)

```
┌──────────────────────┐
│  MOBILE HEADER 50px  │
│  [☰] Logo      [⚙]   │
└──────────────────────┘
┌──────────────────────┐
│                      │
│   CANVAS             │
│   (Full screen)      │
│                      │
│                      │
│                      │
│                      │
└──────────────────────┘
│  BOTTOM SHEET        │
│  Drag up to show     │
│  tools/items         │
└──────────────────────┘

[FAB - Floating Action Button]
  Bottom-right corner
  Primary action (Add Item)
```

**Mobile-Specific Features:**
- Bottom sheet UI pattern (swipe up to reveal tools)
- FAB (Floating Action Button) for primary action
- Full-screen canvas by default
- Gesture-based interactions (pinch zoom, two-finger rotate)
- Simplified toolbar (only essential actions)
- Item palette as bottom sheet with search
- Modal dialogs for settings/properties
- Larger touch targets (min 48x48px)

## COLOR SYSTEM

### Primary Palette (Professional SaaS Feel)

```css
:root {
  /* Primary - Blue (Actions, Links) */
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;  /* Main primary */
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;

  /* Neutral - Grays (Backgrounds, Text) */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  /* Success - Green */
  --color-success-500: #10b981;
  --color-success-600: #059669;

  /* Warning - Amber */
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;

  /* Danger - Red */
  --color-danger-500: #ef4444;
  --color-danger-600: #dc2626;

  /* Info - Cyan */
  --color-info-500: #06b6d4;
  --color-info-600: #0891b2;
}
```

### Semantic Colors

```css
:root {
  /* Backgrounds */
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --bg-tertiary: #f3f4f6;
  --bg-dark: #1f2937;
  --bg-canvas: #f1f5f9;

  /* Text */
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;
  --text-inverse: #ffffff;

  /* Borders */
  --border-default: #e5e7eb;
  --border-focus: #3b82f6;
  --border-hover: #d1d5db;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

  /* Overlays */
  --overlay-dark: rgba(0, 0, 0, 0.5);
  --overlay-light: rgba(255, 255, 255, 0.9);
}
```

### Item Colors (Canvas Objects)

```css
/* Vehicle colors - Vibrant but professional */
--item-car-sports: #ef4444;     /* Red */
--item-car-sedan: #3b82f6;      /* Blue */
--item-truck: #f59e0b;          /* Amber */
--item-suv: #8b5cf6;            /* Purple */
--item-motorcycle: #6366f1;     /* Indigo */

/* Recreational - Cooler tones */
--item-boat: #14b8a6;           /* Teal */
--item-rv-small: #a855f7;       /* Purple */
--item-rv-large: #7c3aed;       /* Violet */

/* Storage - Neutral tones */
--item-shelf: #64748b;          /* Slate */
--item-workbench: #475569;      /* Dark slate */
--item-box: #94a3b8;            /* Light slate */
```

## TYPOGRAPHY

### Font Stack

```css
:root {
  /* Primary font - UI */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 
               'Roboto', 'Helvetica Neue', Arial, sans-serif;

  /* Monospace - Code, measurements */
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', 
               Consolas, monospace;

  /* Display - Large headings (optional) */
  --font-display: 'Inter', var(--font-sans);
}
```

### Type Scale

```css
:root {
  --text-xs: 0.75rem;      /* 12px - Labels, captions */
  --text-sm: 0.875rem;     /* 14px - Body small, secondary */
  --text-base: 1rem;       /* 16px - Body text */
  --text-lg: 1.125rem;     /* 18px - Subheadings */
  --text-xl: 1.25rem;      /* 20px - Headings */
  --text-2xl: 1.5rem;      /* 24px - Large headings */
  --text-3xl: 1.875rem;    /* 30px - Hero text */
  --text-4xl: 2.25rem;     /* 36px - Display */

  /* Line Heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;

  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
}
```

### Typography Usage

```css
/* Headings */
h1 { font-size: var(--text-3xl); font-weight: var(--font-bold); }
h2 { font-size: var(--text-2xl); font-weight: var(--font-semibold); }
h3 { font-size: var(--text-xl); font-weight: var(--font-semibold); }
h4 { font-size: var(--text-lg); font-weight: var(--font-medium); }

/* Body */
body { 
  font-size: var(--text-base); 
  line-height: var(--leading-normal);
  color: var(--text-primary);
}

/* Small text */
.text-small { font-size: var(--text-sm); color: var(--text-secondary); }

/* Measurements on canvas */
.measurement { 
  font-family: var(--font-mono); 
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
}
```

## SPACING SYSTEM

### 8-Point Grid

```css
:root {
  --spacing-0: 0;
  --spacing-1: 0.25rem;   /* 4px */
  --spacing-2: 0.5rem;    /* 8px */
  --spacing-3: 0.75rem;   /* 12px */
  --spacing-4: 1rem;      /* 16px */
  --spacing-5: 1.25rem;   /* 20px */
  --spacing-6: 1.5rem;    /* 24px */
  --spacing-8: 2rem;      /* 32px */
  --spacing-10: 2.5rem;   /* 40px */
  --spacing-12: 3rem;     /* 48px */
  --spacing-16: 4rem;     /* 64px */
  --spacing-20: 5rem;     /* 80px */
}
```

**Usage Guidelines:**
- Padding/margins: Use multiples of 8px (spacing-2, spacing-4, spacing-6)
- Between components: spacing-4 or spacing-6
- Section spacing: spacing-8 or spacing-12
- Tight spacing: spacing-2
- Generous spacing: spacing-10 or spacing-12

## COMPONENT DESIGN

### Buttons

**Primary Button (Main actions)**
```css
.btn-primary {
  background: var(--color-primary-600);
  color: white;
  padding: var(--spacing-2) var(--spacing-4);
  border-radius: 6px;
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  border: none;
  cursor: pointer;
  transition: all 150ms ease;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
  background: var(--color-primary-700);
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}
```

**Secondary Button**
```css
.btn-secondary {
  background: white;
  color: var(--text-primary);
  border: 1px solid var(--border-default);
  /* Same padding, radius, etc. */
}

.btn-secondary:hover {
  background: var(--bg-secondary);
  border-color: var(--border-hover);
}
```

**Ghost Button** (Toolbar actions)
```css
.btn-ghost {
  background: transparent;
  color: var(--text-secondary);
  border: none;
  padding: var(--spacing-2);
  border-radius: 4px;
}

.btn-ghost:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}
```

**Icon Button** (Small, square)
```css
.btn-icon {
  width: 36px;
  height: 36px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  /* No text, icon only */
}
```

**Button Sizes:**
- Small: padding 6px 12px, font 14px
- Medium (default): padding 8px 16px, font 14px
- Large: padding 12px 24px, font 16px

**Button States:**
- Default: Normal appearance
- Hover: Slight lift (translateY -1px), shadow increase
- Active: Press down (translateY 0), shadow decrease
- Disabled: opacity 0.5, cursor not-allowed, no hover
- Loading: Show spinner, disabled interaction

### Panels & Cards

**Panel Container**
```css
.panel {
  background: white;
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  overflow: hidden;
}

.panel-header {
  padding: var(--spacing-4);
  border-bottom: 1px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.panel-body {
  padding: var(--spacing-4);
  overflow-y: auto;
}
```

**Card (For items in palette)**
```css
.card {
  background: var(--bg-secondary);
  border: 2px solid var(--border-default);
  border-radius: 8px;
  padding: var(--spacing-4);
  cursor: pointer;
  transition: all 200ms ease;
}

.card:hover {
  border-color: var(--color-primary-500);
  background: var(--color-primary-50);
  transform: translateX(4px);
  box-shadow: var(--shadow-md);
}

.card.active {
  border-color: var(--color-success-500);
  background: rgba(16, 185, 129, 0.1);
}
```

### Modals

**Modal Overlay**
```css
.modal-overlay {
  position: fixed;
  inset: 0;
  background: var(--overlay-dark);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
  animation: fadeIn 200ms ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
```

**Modal Container**
```css
.modal {
  background: white;
  border-radius: 12px;
  box-shadow: var(--shadow-2xl);
  max-width: 600px;
  max-height: 90vh;
  width: 90%;
  overflow: hidden;
  animation: slideUp 300ms ease;
}

@keyframes slideUp {
  from { 
    opacity: 0; 
    transform: translateY(20px) scale(0.95);
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1);
  }
}

.modal-header {
  padding: var(--spacing-6);
  border-bottom: 1px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.modal-body {
  padding: var(--spacing-6);
  overflow-y: auto;
  max-height: calc(90vh - 140px);
}

.modal-footer {
  padding: var(--spacing-6);
  border-top: 1px solid var(--border-default);
  display: flex;
  gap: var(--spacing-3);
  justify-content: flex-end;
}
```

### Input Fields

**Text Input**
```css
.input {
  width: 100%;
  padding: var(--spacing-3) var(--spacing-4);
  border: 1px solid var(--border-default);
  border-radius: 6px;
  font-size: var(--text-sm);
  transition: all 150ms ease;
}

.input:hover {
  border-color: var(--border-hover);
}

.input:focus {
  outline: none;
  border-color: var(--color-primary-500);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.input:disabled {
  background: var(--bg-tertiary);
  cursor: not-allowed;
  opacity: 0.6;
}
```

**Select Dropdown**
```css
.select {
  /* Same as input */
  appearance: none;
  background-image: url("data:image/svg+xml,..."); /* Chevron down */
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: var(--spacing-10);
}
```

**Checkbox / Toggle**
```css
.toggle {
  width: 44px;
  height: 24px;
  background: var(--color-gray-300);
  border-radius: 12px;
  position: relative;
  cursor: pointer;
  transition: background 200ms ease;
}

.toggle.active {
  background: var(--color-primary-500);
}

.toggle::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: transform 200ms ease;
  box-shadow: var(--shadow-sm);
}

.toggle.active::after {
  transform: translateX(20px);
}
```

### Tooltips

```css
.tooltip {
  position: absolute;
  background: var(--color-gray-900);
  color: white;
  padding: var(--spacing-2) var(--spacing-3);
  border-radius: 6px;
  font-size: var(--text-xs);
  white-space: nowrap;
  pointer-events: none;
  z-index: 1001;
  box-shadow: var(--shadow-lg);
  animation: tooltipFade 150ms ease;
}

@keyframes tooltipFade {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Arrow */
.tooltip::before {
  content: '';
  position: absolute;
  top: -4px;
  left: 50%;
  transform: translateX(-50%);
  border: 4px solid transparent;
  border-bottom-color: var(--color-gray-900);
}
```

### Loading States

**Spinner**
```css
.spinner {
  width: 20px;
  height: 20px;
  border: 2px solid var(--color-gray-300);
  border-top-color: var(--color-primary-500);
  border-radius: 50%;
  animation: spin 600ms linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
```

**Skeleton Loader** (For content loading)
```css
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-gray-200) 25%,
    var(--color-gray-100) 50%,
    var(--color-gray-200) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 4px;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
```

## CANVAS-SPECIFIC UI

### Floating Zoom Controls (Bottom-right)

```css
.zoom-controls {
  position: absolute;
  bottom: var(--spacing-6);
  right: var(--spacing-6);
  background: white;
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  padding: var(--spacing-2);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-1);
}

.zoom-btn {
  width: 36px;
  height: 36px;
  /* Icon button styles */
}
```

### Info Panel (Top-right, semi-transparent)

```css
.info-panel {
  position: absolute;
  top: var(--spacing-6);
  right: var(--spacing-6);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  box-shadow: var(--shadow-xl);
  padding: var(--spacing-5);
  min-width: 280px;
  max-width: 320px;
}

.info-panel h3 {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  margin-bottom: var(--spacing-4);
  padding-bottom: var(--spacing-3);
  border-bottom: 2px solid var(--color-primary-500);
}

.info-row {
  display: flex;
  justify-content: space-between;
  padding: var(--spacing-2) 0;
  font-size: var(--text-sm);
}

.info-row strong {
  color: var(--text-secondary);
  font-weight: var(--font-medium);
}

.info-row span {
  color: var(--text-primary);
  font-weight: var(--font-semibold);
}
```

### Grid Overlay

```css
.canvas-container.grid-enabled::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 99px,
      rgba(0, 0, 0, 0.05) 99px,
      rgba(0, 0, 0, 0.05) 100px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 99px,
      rgba(0, 0, 0, 0.05) 99px,
      rgba(0, 0, 0, 0.05) 100px
    );
  pointer-events: none;
  z-index: 1;
}
```

### Selection Indicators (Fabric.js custom styling)

```javascript
fabric.Object.prototype.set({
  borderColor: '#3b82f6',
  borderScaleFactor: 2,
  cornerColor: '#3b82f6',
  cornerSize: 10,
  cornerStyle: 'circle',
  transparentCorners: false,
  borderDashArray: [5, 5],
  padding: 5
});
```

## MICRO-INTERACTIONS & ANIMATIONS

### Principles
- Fast (150-300ms)
- Purposeful (indicate state change)
- Smooth (ease or ease-out)
- Subtle (not distracting)

### Common Animations

**Button Press**
```css
.btn:active {
  transform: scale(0.97);
  transition: transform 100ms ease;
}
```

**Card Hover**
```css
.card {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.card:hover {
  transform: translateX(4px);
  box-shadow: var(--shadow-lg);
}
```

**Panel Slide In**
```css
.panel-enter {
  animation: slideInLeft 300ms ease;
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
```

**Success Flash** (After save)
```css
@keyframes successFlash {
  0%, 100% { background: white; }
  50% { background: rgba(16, 185, 129, 0.1); }
}

.success-flash {
  animation: successFlash 600ms ease;
}
```

**Item Added to Canvas**
```javascript
// Fade in + slight scale
item.opacity = 0;
item.scaleX = 0.8;
item.scaleY = 0.8;

fabric.util.animate({
  startValue: 0,
  endValue: 1,
  duration: 300,
  easing: fabric.util.ease.easeOutCubic,
  onChange: (value) => {
    item.opacity = value;
    item.scaleX = 0.8 + (value * 0.2);
    item.scaleY = 0.8 + (value * 0.2);
    canvas.renderAll();
  }
});
```

## RESPONSIVE BREAKPOINTS

```css
/* Mobile */
@media (max-width: 767px) {
  /* Single column layout */
  /* Bottom sheet UI */
  /* Touch-optimized spacing */
}

/* Tablet */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Collapsible sidebars */
  /* Floating panels */
}

/* Desktop Small */
@media (min-width: 1024px) and (max-width: 1439px) {
  /* Normal desktop layout */
  /* Slightly reduced panel widths */
}

/* Desktop Large */
@media (min-width: 1440px) {
  /* Full desktop layout */
  /* Optional: wider panels */
}
```

## ICONS

### Icon System
- Use **Heroicons** or **Lucide Icons** (free, MIT license)
- SVG format (inline or sprite)
- Size: 20px default, 16px small, 24px large
- Stroke width: 2px (consistent)
- Color: inherit from parent (use currentColor)

### Essential Icons Needed
```
Actions:
- plus (add)
- trash (delete)
- duplicate
- rotate-cw (rotate)
- flip-horizontal, flip-vertical
- lock, unlock
- eye, eye-off (show/hide)

Navigation:
- menu (hamburger)
- x (close)
- chevron-left, chevron-right, chevron-up, chevron-down
- arrow-left (back)

Tools:
- search
- zoom-in, zoom-out
- move (drag)
- ruler (measurement)
- grid
- layers

Files:
- save, folder-open (load)
- download
- upload
- share
- settings (cog)

Feedback:
- check (success)
- alert-triangle (warning)
- alert-circle (error)
- info (information)
- help-circle (help)
```

## EMPTY STATES

### Canvas Empty State
```html
<div class="empty-state">
  <svg class="empty-icon"><!-- Large icon --></svg>
  <h3>Start Planning Your Space</h3>
  <p>Select a floor plan from the sidebar to begin</p>
  <button class="btn-primary">Choose Floor Plan</button>
</div>
```

```css
.empty-state {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  max-width: 400px;
  color: var(--text-secondary);
}

.empty-icon {
  width: 80px;
  height: 80px;
  margin-bottom: var(--spacing-4);
  opacity: 0.3;
}
```

### No Saved Layouts
```html
<div class="empty-state-small">
  <p>No saved layouts yet</p>
  <p class="text-small">Layouts you save will appear here</p>
</div>
```

## ERROR STATES

### Toast Notifications

```css
.toast {
  position: fixed;
  bottom: var(--spacing-6);
  right: var(--spacing-6);
  background: white;
  border-radius: 8px;
  box-shadow: var(--shadow-xl);
  padding: var(--spacing-4);
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  min-width: 300px;
  max-width: 500px;
  animation: slideInRight 300ms ease;
  z-index: 1100;
}

.toast-success { border-left: 4px solid var(--color-success-500); }
.toast-error { border-left: 4px solid var(--color-danger-500); }
.toast-warning { border-left: 4px solid var(--color-warning-500); }
.toast-info { border-left: 4px solid var(--color-info-500); }

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
```

## ACCESSIBILITY

### Focus States
```css
*:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Remove default browser outline */
*:focus {
  outline: none;
}
```

### Keyboard Navigation
- Tab order follows visual hierarchy
- All interactive elements keyboard accessible
- Esc closes modals/dropdowns
- Enter/Space activates buttons
- Arrow keys navigate lists

### ARIA Labels
```html
<!-- Button without visible text -->
<button aria-label="Close panel" class="btn-icon">
  <svg>...</svg>
</button>

<!-- Status messages -->
<div role="alert" aria-live="polite">
  Layout saved successfully
</div>

<!-- Loading state -->
<button aria-busy="true" disabled>
  <span class="spinner"></span>
  Saving...
</button>
```

### Color Contrast
- Text on background: Minimum 4.5:1 (WCAG AA)
- Large text (18px+): Minimum 3:1
- Interactive elements: Minimum 3:1

## PERFORMANCE

### Smooth Animations
- Use transform and opacity (GPU accelerated)
- Avoid animating: width, height, top, left
- Use will-change sparingly

### Perceived Performance
- Show loading states immediately
- Skeleton loaders for content
- Optimistic UI updates
- Smooth transitions (hide jank)

## FINAL POLISH

### Visual Details
- Consistent border-radius (4px, 6px, 8px, 12px)
- Consistent shadows (5 levels)
- Consistent spacing (8px grid)
- Consistent hover states (all interactive elements)

### Delight Factors
- Smooth animations
- Helpful empty states
- Clear success/error feedback
- Keyboard shortcuts
- Contextual help tooltips
- Progress indicators

### Professional Touches
- Custom favicon
- Loading screen (app initialization)
- Custom 404 page (if server-based)
- Browser tab title updates (e.g., "Unsaved changes - Garage Planner")
- Keyboard shortcut cheat sheet (accessible via ? key)

## SUCCESS CRITERIA

UI is successful when:
✓ Looks modern and professional (2024/2025 standards)
✓ Intuitive (new users understand without tutorial)
✓ Fast (interactions feel instant)
✓ Responsive (works beautifully on all devices)
✓ Accessible (WCAG 2.1 AA compliant)
✓ Consistent (same patterns throughout)
✓ Delightful (pleasant to use)
✓ Competitive (better than Envato competitors)

Now, implement this design system with pixel-perfect precision. Every spacing, color, shadow, and animation should match this specification exactly.
```

---

This ensures the YOU understands BOTH the technical foundation AND the visual polish needed for a professional enterprise application we need to create. Let's begin!